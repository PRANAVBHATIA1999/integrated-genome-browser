<project>
	<target name="common-init" depends="init">
    <tstamp/>

		<!-- directory paths -->
		<property name="dist.dir"     value="${basedir}/dist" />
		<property name="webstart.dir" value="${dist.dir}/webstart" />
		<property name="webapp.dir"   value="${dist.dir}/webapp" />

		<!-- file paths -->
		<property name="web.xml" value="${das2server}/web.xml" />

		<!-- JNLP Webstart -->
		<property name="jnlp.file.path" value="${igb}/etc/igb.jnlp" />
		<property name="jnlp.version"   value="${DSTAMP}" />
		<property name="jnlp.codebase"  value="http://genoviz.sourceforge.net/webstart/" />
		<property name="jnlp.icon.name" value="affychip.gif" />
		<property name="jnlp.icon.path" value="${igb}/resources/com/affymetrix/igb/${jnlp.icon.name}" />

		<!-- global compiler defaults -->
		<property name="build.compiler"         value="modern" />
		<property name="ant.build.javac.target" value="5" />
		<property name="ant.build.javac.source" value="5" />

		<!-- compiler defaults passed to javac -->
		<property name="debug"         value="on" />
		<property name="deprecation"   value="off"/>
		<property name="compiler.args" value="-Xlint:none" />

		<!-- signjar defaults -->
		<property name="jar.sign.keystore"      value="${user.home}/.keystore" />
		<property name="jar.sign.keystore.pass" value="changeit" />
		<property name="jar.sign.alias"         value="igb" />
		<property name="jar.sign.alias.pass"    value="${jar.sign.keystore.pass}" />

		<!-- javadoc defaults -->
		<property name="javadoc.j2se.url"    value="http://java.sun.com/j2se/1.5.0/docs/api/" />
		<property name="javadoc.j2ee.url"    value="http://java.sun.com/javaee/5/docs/api/" />
		<property name="javadoc.src.version" value="5" />

		<filter token="jnlp.version"  value="${jnlp.version}" />
		<filter token="jnlp.codebase" value="${jnlp.codebase}" />
		<filter token="jnlp.icon.name" value="${jnlp.icon.name}" />
	</target>

	<presetdef name="my.javac">
		<javac srcdir="${src.dir}" classpath="${classpath}" debug="${debug}" deprecation="${deprecation}" includeAntRuntime="false">
			<compilerarg compiler="modern" value="${compiler.args}" />
    </javac>
	</presetdef>

	<presetdef name="my.javadoc">
		<javadoc packagenames="*" destdir="${docs.dir}" author="true" version="true" use="true" windowtitle="${name} API" maxmemory="128m" access="private" verbose="false" splitindex="false" source="${javadoc.src.version}">
			<link href="${javadoc.j2se.url}"/>
			<link href="${javadoc.j2ee.url}"/>
			<doctitle><![CDATA[<h1>${name} API</h1>]]></doctitle>
			<bottom><![CDATA[<i>Copyright &#169; Affymetrix, Inc.</i>]]></bottom>
		</javadoc>
	</presetdef>

	<presetdef name="my.signjar">
		<signjar alias="${jar.sign.alias}" storepass="${jar.sign.keystore.pass}" keystore="${jar.sign.keystore}" keypass="${jar.sign.alias.pass}" />
	</presetdef>
</project>
